<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: iOS | Jimmy.King's Blog]]></title>
  <link href="http://jimmyking.github.io/blog/categories/ios/atom.xml" rel="self"/>
  <link href="http://jimmyking.github.io/"/>
  <updated>2013-06-25T14:57:53+08:00</updated>
  <id>http://jimmyking.github.io/</id>
  <author>
    <name><![CDATA[Jimmy.King]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[APNS笔记]]></title>
    <link href="http://jimmyking.github.io/blog/2013/06/25/apnsbi-ji/"/>
    <updated>2013-06-25T14:27:00+08:00</updated>
    <id>http://jimmyking.github.io/blog/2013/06/25/apnsbi-ji</id>
    <content type="html"><![CDATA[<p>APNS的相关介绍及使用我就不再写了<a href="http://www.raywenderlich.com/">raywenderlich.com</a>上面有非常详细的教程<a href="http://www.raywenderlich.com/32960/apple-push-notification-services-in-ios-6-tutorial-part-1">part1</a>,<a href="http://www.raywenderlich.com/32963/apple-push-notification-services-in-ios-6-tutorial-part-2">part2</a></p>

<p>由于此教程使用的APNS服务端是php写的。由于我在实际项目中APNS服务端使用的是java，所以此教程中在怎样生成APNS证书的说明对我并不适用。</p>

<p>顺带推荐下一个非常不错的java APNS开源组件<a href="https://github.com/notnoop/java-apns">java-apns</a>。</p>

<p>还是进入正题，在生成证书前我们需要在<a href="https://developer.apple.com/devcenter/ios/index.action">iOS Dev Center</a>中配置某个APP ID的push notification功能。按照上文教程中得步骤我们将会得到一下文件(已配置开发证书为例)</p>

<p><code>
CertificateSigningRequest.certSigningRequest
test.p12(在钥匙串中导出的私钥)
aps_development.cer（申请push证书后下载得到）
</code></p>

<h4>Step1: 将aps_development.cer转换成aps_development.pem格式</h4>

<p><code>
openssl x509 -in aps_development.cer -inform DER -out aps_development.pem -outform PEM
</code></p>

<h4>Step2: 将test.p12转换成pem格式，此时需要输入密码</h4>

<p><code>
openssl pkcs12 -nocerts -out test.pem -in test.p12
</code></p>

<h4>Step3: 得到最终在java中使用的证书文件aps_development.p12</h4>

<p><code>
openssl pkcs12 -export -in aps_development.pem -inkey test.pem -certfile CertificateSigningRequest.certSigningRequest -name "aps_development" -out aps_development.p12
</code></p>

<p>生产环境重复以上步骤即可。</p>
]]></content>
  </entry>
  
</feed>
